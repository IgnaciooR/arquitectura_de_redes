

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Seguridad &mdash; documentación de Arquitectura de Redes - </title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="Gestión de redes" href="gestion.html" />
    <link rel="prev" title="VOIP" href="voip.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Arquitectura de Redes
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Teoría</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#principal">Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#wan-y-ruteo">WAN y ruteo</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#capa-aplicacion-y-otros">Capa aplicación y otros</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="6to4.html">6to4</a></li>
<li class="toctree-l3"><a class="reference internal" href="dns.html">DNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="mail.html">Mail</a></li>
<li class="toctree-l3"><a class="reference internal" href="ftp.html">FTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html">HTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="voip.html">VOIP</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Seguridad</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tipos-de-firmas">Tipos de firmas</a></li>
<li class="toctree-l4"><a class="reference internal" href="#firewall">Firewall</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gestion.html">Gestión de redes</a></li>
<li class="toctree-l3"><a class="reference internal" href="gns3.html">GNS3</a></li>
<li class="toctree-l3"><a class="reference internal" href="wireshark.html">Wireshark</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../practica/index.html">Práctica</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Arquitectura de Redes</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Teoría</a> &raquo;</li>
        
      <li>Seguridad</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/teoria/seguridad.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="seguridad">
<h1>Seguridad<a class="headerlink" href="#seguridad" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Por hacer</p>
<p class="last">Hacer</p>
</div>
<ul class="simple">
<li>IDS (Intruder Detection System): Como que analiza el tráfico con interligencia
artificial.</li>
<li>IPS (Intruder Protection System): Es como IDS pero actúa (creo).</li>
</ul>
<div class="section" id="tipos-de-firmas">
<h2>Tipos de firmas<a class="headerlink" href="#tipos-de-firmas" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li>Digital: Es una firma que cumple la ley, como el certificado del SIAL.</li>
<li>Electronica: No cumple la ley.</li>
<li>Digitalizada: Es como cuando firmas en una tablet para el carnet.</li>
</ul>
</div>
<div class="section" id="firewall">
<h2>Firewall<a class="headerlink" href="#firewall" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="section" id="iptables">
<h3>iptables<a class="headerlink" href="#iptables" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Como ventajas se le pueden ir agregando módulos. También se pueden hacer filtros
stateless y stateful, pero no vamos a hacer filtros stateful.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Por hacer</p>
<p class="last">Explicar mejor esta lista:</p>
</div>
<ul class="simple">
<li>Tablas: Conjunto de cadenas.</li>
<li>Cadenas: Conjunto de reglas.</li>
<li>Reglas:</li>
<li>Objetivos: Es lo que quiero hacer, aceptar, rechazar, etc.</li>
</ul>
<p>Tablas que hay:</p>
<ul class="simple">
<li>filter: This is the default table (if no -t option is passed). It contains the
built-in chains INPUT (for packets destined to local sockets), FORWARD (for
packets being routed through the box), and OUTPUT (for locally-generated
packets).</li>
<li>nat: This table is consulted when a packet that creates a new connection is
encountered. It consists of four built-ins: PREROUTING (for altering packets
as soon as they come in), INPUT (for altering packets destined for local
sockets), OUTPUT (for altering locally-generated packets before routing), and
POSTROUTING (for altering packets as they are about to go out). IPv6 NAT
support is available since kernel 3.7.</li>
<li>mangle: This table is used for specialized packet alteration. Until kernel
2.4.17 it had two built-in chains: PREROUTING (for altering incoming packets
before routing) and OUT‐ PUT (for altering locally-generated packets before
routing). Since kernel 2.4.18, three other built-in chains are also
supported: INPUT (for packets coming into the box itself), FORWARD (for
altering packets being routed through the box), and POSTROUTING (for altering
packets as they are about to go out).</li>
<li>raw: This table is used mainly for configuring exemptions from connection
tracking in combination with the NOTRACK target. It registers at the
netfilter hooks with higher priority and is thus called before ip_conntrack,
or any other IP tables. It provides the following built-in chains: PREROUTING
(for packets arriving via any network interface) OUTPUT (for packets
generated by local processes)</li>
<li>security: This table is used for Mandatory Access Control (MAC) networking
rules, such as those enabled by the SECMARK and CONNSECMARK targets.
Mandatory Access Control is imple‐ mented by Linux Security Modules such as
SELinux. The security table is called after the filter table, allowing any
Discretionary Access Control (DAC) rules in the fil‐ter table to take
effect before MAC rules. This table provides the following built-in chains:
INPUT (for packets coming into the box itself), OUTPUT (for altering
locally-generated packets before routing), and FORWARD (for altering packets
being routed through the box).</li>
</ul>
<p>Opciones:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-A, --append chain rule-specification
      Append one or more rules to the end of the selected chain.  When the
      source and/or destination names resolve to more than one address, a rule
      will be added for each possible address combination.

-C, --check chain rule-specification
       Check whether a rule matching the specification does exist in the
       selected chain. This command  uses the  same  logic as -D to find a
       matching entry, but does not alter the existing iptables configura‐
       tion and uses its exit code to indicate success or failure.

-D, --delete chain rule-specification
-D, --delete chain rulenum
       Delete one or more rules from the selected chain.  There are two
       versions of this command: the  rule can be specified as a number in the
       chain (starting at 1 for the first rule) or a rule to match.

-I, --insert chain [rulenum] rule-specification
       Insert  one or more rules in the selected chain as the given rule
       number.  So, if the rule number is 1, the rule or rules are inserted at
       the head of the chain.  This is also the  default  if  no  rule number
       is specified.

-R, --replace chain rulenum rule-specification
       Replace  a  rule  in the selected chain.  If the source and/or
       destination names resolve to multiple addresses, the command will fail.
       Rules are numbered starting at 1.

-L, --list [chain]
       List all rules in the selected chain.  If no chain is selected, all
       chains are  listed.  Like  every other  iptables command, it applies to
       the specified table (filter is the default), so NAT rules get listed by
       iptables -t nat -n -L Please note that it is often used with the -n
       option, in order to avoid long  reverse  DNS  lookups.  It  is  legal
       to specify the -Z (zero) option as well, in which case the chain(s)
       will be atomically listed and zeroed.  The exact output is affected by
       the other arguments given. The exact  rules  are suppressed until you
       use iptables -L -v or iptables-save(8).

-S, --list-rules [chain]
       Print  all  rules in the selected chain.  If no chain is selected, all
       chains are printed like ipta‐ bles-save. Like every other iptables
       command, it applies to  the  specified  table  (filter  is  the
       default).

-F, --flush [chain]
       Flush  the  selected  chain  (all  the chains in the table if none is
       given).  This is equivalent to deleting all the rules one by one.

-Z, --zero [chain [rulenum]]
       Zero the packet and byte counters in all chains, or only the given
       chain, or only the given rule  in a  chain.  It  is legal to specify
       the -L, --list (list) option as well, to see the counters immedi‐ ately
       before they are cleared. (See above.)

-N, --new-chain chain
       Create a new user-defined chain by the given name.  There must be no
       target of that name already.

-X, --delete-chain [chain]
       Delete the optional user-defined chain specified.  There must be no
       references  to  the  chain.   If there  are,  you  must  delete  or
       replace the referring rules before the chain can be deleted.  The chain
       must be empty, i.e. not contain any rules.  If no argument is given, it
       will attempt to delete every non-builtin chain in the table.

-P, --policy chain target
       Set  the  policy  for  the built-in (non-user-defined) chain to the
       given target.  The policy target must be either ACCEPT or DROP.

-E, --rename-chain old-chain new-chain
       Rename the user specified chain to the user supplied name.  This is
       cosmetic, and has no  effect  on the structure of the table.

-h     Help.  Give a (currently very brief) description of the command syntax.
</pre></div>
</div>
<p>Parámetros:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-4, --ipv4
       This option has no effect in iptables and iptables-restore.  If  a
       rule  using  the  -4  option  is inserted  with  (and  only with)
       ip6tables-restore, it will be silently ignored. Any other uses will
       throw an error. This option allows IPv4 and IPv6 rules in a single rule
       file for use with both ipta‐ bles-restore and ip6tables-restore.

-6, --ipv6
       If a rule using the -6 option is inserted with (and only with)
       iptables-restore, it will be silently ignored. Any other uses will
       throw an error. This option allows IPv4 and IPv6 rules in a single rule
       file  for  use  with  both  iptables-restore  and  ip6tables-restore.
       This option has no effect in ip6tables and ip6tables-restore.

[!] -p, --protocol protocol
       The protocol of the rule or of the packet to check.  The specified
       protocol can be one of tcp,  udp, udplite,  icmp, icmpv6,esp, ah, sctp,
       mh or the special keyword &quot;all&quot;, or it can be a numeric value,
       representing one of these protocols or a different one.  A protocol
       name from /etc/protocols is also allowed.   A  &quot;!&quot;  argument  before
       the protocol inverts the test.  The number zero is equivalent to all.
       &quot;all&quot; will match with all protocols and is taken as default when this
       option is omitted.   Note that,  in  ip6tables, IPv6 extension headers
       except esp are not allowed.  esp and ipv6-nonext can be used with
       Kernel version 2.6.11 or later.  The number zero is equivalent to all,
       which  means  that you  cannot  test  the protocol field for the value
       0 directly. To match on a HBH header, even if it were the last, you
       cannot use -p 0, but always need -m hbh.

[!] -s, --source address[/mask][,...]
       Source specification. Address can be either a network name, a hostname,
       a network IP  address  (with /mask), or a plain IP address. Hostnames
       will be resolved once only, before the rule is submitted to the kernel.
       Please note that specifying any name to be resolved with a remote query
       such as DNS  is a  really  bad  idea.  The mask can be either an ipv4
       network mask (for iptables) or a plain number, specifying the number of
       1&#39;s at the left side of the network mask.  Thus, an iptables mask of 24
       is equivalent  to  255.255.255.0.  A &quot;!&quot; argument before the address
       specification inverts the sense of the address. The flag --src is an
       alias for this option.  Multiple addresses can be  specified,  but this
       will expand to multiple rules (when adding with -A), or will cause
       multiple rules to be deleted (with -D).

[!] -d, --destination address[/mask][,...]
       Destination specification.  See the description of the -s (source) flag
       for a  detailed  description of the syntax.  The flag --dst is an alias
       for this option.

-m, --match match
       Specifies  a  match to use, that is, an extension module that tests for
       a specific property. The set of matches make up the condition under
       which a target is invoked. Matches  are  evaluated  first  to last  as
       specified  on  the  command  line and work in short-circuit fashion,
       i.e. if one extension yields false, evaluation will stop.

-j, --jump target
       This specifies the target of the rule; i.e., what to do if the packet
       matches it.  The target can be a  user-defined chain (other than the
       one this rule is in), one of the special builtin targets which decide
       the fate of the packet immediately, or an extension (see EXTENSIONS
       below).  If  this  option is  omitted  in  a  rule  (and  -g  is  not
       used), then matching the rule will have no effect on the packet&#39;s fate,
       but the counters on the rule will be incremented.

-g, --goto chain
       This specifies that the processing should continue in a user  specified
       chain.  Unlike  the  --jump option return will not continue processing
       in this chain but instead in the chain that called us via --jump.

[!] -i, --in-interface name
       Name of an interface via which a packet was received (only for packets
       entering the  INPUT,  FORWARD and  PREROUTING  chains).   When  the
       &quot;!&quot;  argument is used before the interface name, the sense is inverted.
       If the interface name ends in a &quot;+&quot;, then any interface which begins
       with this name  will match.  If this option is omitted, any interface
       name will match.

[!] -o, --out-interface name
       Name  of an interface via which a packet is going to be sent (for
       packets entering the FORWARD, OUT‐ PUT and POSTROUTING chains).  When
       the &quot;!&quot; argument is used before the interface name, the sense  is
       inverted.   If the interface name ends in a &quot;+&quot;, then any interface
       which begins with this name will match.  If this option is omitted, any
       interface name will match.

[!] -f, --fragment
       This means that the rule only refers to second and further IPv4
       fragments  of  fragmented  packets.  Since  there is no way to tell the
       source or destination ports of such a packet (or ICMP type), such a
       packet will not match any rules which specify them.  When the &quot;!&quot;
       argument precedes the &quot;-f&quot; flag, the  rule  will only match head
       fragments, or unfragmented packets. This option is IPv4 specific, it is
       not available in ip6tables.

-c, --set-counters packets bytes
       This enables the administrator to initialize the packet and byte
       counters of a rule (during  INSERT, APPEND, REPLACE operations).
</pre></div>
</div>
<p>Cadenas que hay:</p>
<ul class="simple">
<li>Prerouting:</li>
<li>Input:</li>
<li>Forward:</li>
<li>Output:</li>
<li>Postrouting:</li>
</ul>
<p>Objetivos:</p>
<ul class="simple">
<li>ACCEPT:</li>
<li>REJECT:</li>
<li>DROP:</li>
<li>SNAT/MASQUERADE:</li>
<li>DNAT:</li>
<li>LOG:</li>
</ul>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Por hacer</p>
<p class="last">Poner dibujo de las tablas y cadenas
<a class="reference external" href="https://commons.wikimedia.org/wiki/Category:Netfilter#/media/File:Netfilter-diagram-rus.png">https://commons.wikimedia.org/wiki/Category:Netfilter#/media/File:Netfilter-diagram-rus.png</a></p>
</div>
<p><a class="reference external" href="https://www.net.t-labs.tu-berlin.de/teaching/ss08/RL_labcourse/docs/08-lartc.pdf">https://www.net.t-labs.tu-berlin.de/teaching/ss08/RL_labcourse/docs/08-lartc.pdf</a></p>
<p><a class="reference external" href="https://www.booleanworld.com/depth-guide-iptables-linux-firewall/#How_does_iptables_work">https://www.booleanworld.com/depth-guide-iptables-linux-firewall/#How_does_iptables_work</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gestion.html" class="btn btn-neutral float-right" title="Gestión de redes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="voip.html" class="btn btn-neutral" title="VOIP" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Martín Bernardi

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>